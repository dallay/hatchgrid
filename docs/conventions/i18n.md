# Internationalization (i18n)

This document outlines the internationalization (i18n) conventions for the Hatchgrid project. All contributors are expected to follow these guidelines to ensure that the application can be easily translated into different languages.

## Table of Contents

- [Internationalization (i18n)](#internationalization-i18n)
  - [Table of Contents](#table-of-contents)
  - [Introduction](#introduction)
  - [Locale](#locale)
  - [Resource Bundles](#resource-bundles)
  - [Message Keys](#message-keys)
  - [Pluralization](#pluralization)
  - [Date and Time Formatting](#date-and-time-formatting)
  - [Number Formatting](#number-formatting)
  - [Currency Formatting](#currency-formatting)
  - [Testing](#testing)

## Introduction

Internationalization (i18n) is the process of designing and developing an application in a way that it can be easily adapted to different languages and regions without any engineering changes.

## Locale

The locale of the user is determined by the `Accept-Language` header of the HTTP request. The default locale is `en-US`.

## Resource Bundles

We use resource bundles to store the translated strings. The resource bundles are located in the `src/main/resources/i18n` directory.

The resource bundles are named as follows:

- `messages.properties`: The default resource bundle (English).
- `messages_de.properties`: The German resource bundle.
- `messages_fr.properties`: The French resource bundle.

## Message Keys

The message keys should be descriptive and should follow a consistent naming convention.

**Good:**

- `user.profile.title`
- `user.profile.firstName`
- `user.profile.lastName`

**Bad:**

- `title`
- `firstName`
- `lastName`

## Pluralization

We use the `java.text.ChoiceFormat` class to handle pluralization.

```java
double[] limits = {0,1,2};
String[] parts = {"There are no files.","There is one file.","There are {2} files."};
ChoiceFormat form = new ChoiceFormat(limits, parts);
```

## Date and Time Formatting

We use the `java.text.DateFormat` class to format dates and times.

```java
DateFormat df = DateFormat.getDateInstance(DateFormat.LONG, locale);
String formattedDate = df.format(new Date());
```

## Number Formatting

We use the `java.text.NumberFormat` class to format numbers.

```java
NumberFormat nf = NumberFormat.getNumberInstance(locale);
String formattedNumber = nf.format(123456.789);
```

## Currency Formatting

We use the `java.text.NumberFormat` class to format currencies.

```java
NumberFormat cf = NumberFormat.getCurrencyInstance(locale);
String formattedCurrency = cf.format(123456.789);
```

## Testing

- All new features should be tested to ensure that they are properly internationalized.
- The tests should cover all the supported locales.
